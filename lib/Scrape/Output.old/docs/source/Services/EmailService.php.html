<html>
    <head>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script
            type="text/javascript"
            src="../../js/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../js/shBrushPhp.js">
        </script>
   <!--     <link
            href="../../css/shCore.css" rel="stylesheet"
            type="text/css"
        /> -->
         <link
            href="../../css/shThemeRDark.css"
            rel="stylesheet" type="text/css"
        />
       <!-- <link
            href="../../css/shCoreRDark.css"
            rel="stylesheet" type="text/css"
        /> -->
       
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/**
 * THIS CODE WAS GENERATED BY AN AUTOMATED TOOL. Editing it is not recommended.
 * For more information, see http://github.com/elliotboney/
 *
 * Generated on: 09/26/2013 @ 20:31:15
 *
 * MIT License
 * ===========
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the &quot;Software&quot;),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 *
 * @category  Services
 * @package   EmailService
 * @author    Elliot Boney &lt;elliotboney@gmail.com&gt;
 * @copyright 1997-2013 Digital Grove, LLC
 * @license   MIT License (http://www.opensource.org/licenses/mit-license.php)
 * @version   [0.0.1]
 * @link      http://help.infusionsoft.com/developers/services/EmailService
 */

namespace iSDK\Services;

/**
 * EmailService Service Class
 *
 * EmailService [short description]
 *
 * @category Services
 * @package  EmailService
 * @author   Elliot Boney &lt;elliotboney@gmail.com&gt;
 * @license  MIT License (http://www.opensource.org/licenses/mit-license.php)
 * @link     http://help.infusionsoft.com//api-docs/emailservice
 */
class EmailService
{
    /**
     * Create a new email template that can be used for future emails
     *
     * @param string $pieceTitle   The name of the template. This will be displayed within the
     *                             Infusionsoft template library
     * @param string $categories   The category of templates you would like this template saved in
     *                             fromAddress - The from email address this template sends as.
     *                             Format: &amp;quot;FirstName LastName
     *                             &lt;email@domain.com&gt;&amp;quot;&lt;/email@domain.com&gt;
     * @param string $fromAddress  The email address this template sends from.&amp;quot;
     * @param string $toAddress    The email address this template sends to. Typically this will be
     *                             &amp;quot;~Contact.Email~&amp;quot;
     * @param string $ccAddress    Any email addresses you would like to CC when this template is
     *                             sent
     * @param string $bccAddress   Any email address you would like to BCC when this template is
     *                             sent
     * @param string $subject      The subject line for this email template
     * @param string $textBody     The content you would like sent in the body of the plain text
     *                             version of this email template
     * @param string $htmlBody     The HTML that makes up the body of this template. If you only
     *                             send plain text emails
     * @param string $contentType  HTML, Text, or Multipart
     * @param string $mergeContext Contact, Opportunity, Invoice, or CreditCard
     *
     * @return stuff
     */
    function addEmailTemplate($pieceTitle, $categories, $fromAddress, $toAddress, $ccAddress, $bccAddress, $subject, $textBody, $htmlBody, $contentType, $mergeContext)
    {
        $parray = array(
            php_xmlrpc_encode($pieceTitle),
            php_xmlrpc_encode($categories),
            php_xmlrpc_encode($fromAddress),
            php_xmlrpc_encode($toAddress),
            php_xmlrpc_encode($ccAddress),
            php_xmlrpc_encode($bccAddress),
            php_xmlrpc_encode($subject),
            php_xmlrpc_encode($textBody),
            php_xmlrpc_encode($htmlBody),
            php_xmlrpc_encode($contentType),
            php_xmlrpc_encode($mergeContext));
    }

    /**
     * This will create an item in the email history for a contact. This does not actually send the
     * email, it only places an item into the email history. Using the API to instruct Infusionsoft
     * to send an email will handle this automatically.
     *
     * @param int    $contactId     The Id of the contact you would like to add this email history
     *                              to
     * @param string $fromName      The name portion of the from address. I.E. FirstName LastName,
     *                              not the email@domain.com portion
     * @param string $fromAddress   The email address the email was sent from
     * @param string $toAddress     The email address the email was sent to
     * @param string $ccAddresses   Any email address that was CC&amp;#39;d
     * @param string $bccAddresses  Any email address that was BCC&amp;#39;d
     * @param string $contentType   What type of email this was. Text, HTML, or Multipart (case
     *                              sensitive)
     * @param string $subject       The subject line
     * @param string $htmlBody      The html from the body of the email
     * @param string $textBody      The plain text body of the email
     * @param string $header        The email header information
     * @param string $receivedDate  The date this email was received. This determines where this
     *                              displays in comparison to other emails
     * @param string $sentDate      The date this email was sent
     * @param int    $emailSentType A boolean int, 1 is used for marking the email as sent inside
     *                              the contact history and 0 is used for marking the email as
     *                              received
     *
     * @return stuff
     */
    function attachEmail($contactId, $fromName, $fromAddress, $toAddress, $ccAddresses, $bccAddresses, $contentType, $subject, $htmlBody, $textBody, $header, $receivedDate, $sentDate, $emailSentType)
    {
        $parray = array(
            php_xmlrpc_encode((int)$contactId),
            php_xmlrpc_encode($fromName),
            php_xmlrpc_encode($fromAddress),
            php_xmlrpc_encode($toAddress),
            php_xmlrpc_encode($ccAddresses),
            php_xmlrpc_encode($bccAddresses),
            php_xmlrpc_encode($contentType),
            php_xmlrpc_encode($subject),
            php_xmlrpc_encode($htmlBody),
            php_xmlrpc_encode($textBody),
            php_xmlrpc_encode($header),
            php_xmlrpc_encode($receivedDate),
            php_xmlrpc_encode($sentDate),
            php_xmlrpc_encode((int)$emailSentType));
    }

    /**
     * This retrieves all possible merge fields for the context provided
     *
     * @param string $mergeContext Contact, Opportunity, Invoice, or CreditCard
     *
     * @return stuff
     */
    function getAvailableMergeFields($mergeContext)
    {
        $parray = array(
            php_xmlrpc_encode($mergeContext));
    }

    /**
     * Retrieves the details for a particular email template
     *
     * @param int $templateId The Id number for the template you wish to retrieve details about
     *
     * @return stuff
     */
    function getEmailTemplate($templateId)
    {
        $parray = array(
            php_xmlrpc_encode((int)$templateId));
    }

    /**
     * &amp;nbsp;
     *
     * @param string $email The email address you wish to retrieve the status of
     *
     * @return stuff
     */
    function getOptStatus($email)
    {
        $parray = array(
            php_xmlrpc_encode($email));
    }

    /**
     * This method opts-in an email address. This method only works the first time an email address
     * opts-in
     *
     * @param string $email       The email address to opt-in
     * @param string $optInReason This is how you can note why/how this email was opted-in. *If a
     *                            blank optInReason is passed the system will default a reason of
     *                            &amp;quot;API Opt In&amp;quot;
     *
     * @return stuff
     */
    function optIn($email, $optInReason)
    {
        $parray = array(
            php_xmlrpc_encode($email),
            php_xmlrpc_encode($optInReason));
    }

    /**
     * Opts-out an email address. Note that once an address is opt-out, the API cannot opt it back
     * in
     *
     * @param string $email        The email address to opt-out
     * @param string $optOutreason Reason the address is being opt-out
     *
     * @return stuff
     */
    function optOut($email, $optOutreason)
    {
        $parray = array(
            php_xmlrpc_encode($email),
            php_xmlrpc_encode($optOutreason));
    }

    /**
     * This will send an email to a list of contacts, as well as record the email in the
     * contacts&amp;#39; email history
     *
     * @param string $contactList           An integer array of Contact Id numbers you would like to
     *                                      send this email to
     * @param string $fromAddress           The email address this template will be sent from
     * @param string $toAddress             The email address this template will send to. This is
     *                                      typically the merge field &amp;quot;~Contact.Email~&amp;quot;
     * @param string $ccAddresses           The email address(es) this template will carbon copy.
     *                                      Multiples separated by comma
     * @param string $bccAddresses          the email address(es) this template will blind carbon
     *                                      copy. Multiples separated by comma
     * @param string $contentType           HTML, Text, or Multipart (this is case sensitive)
     * @param string $subject               The subject line of this email
     * @param string $htmlBody              The HTML content the body of this email is comprised of
     * @param string $textBody              The content of the plain text body of this template
     * @param string $templateId (optional) The Id number of the template you would like to send
     *
     * @return stuff
     */
    function sendEmail($contactList, $fromAddress, $toAddress, $ccAddresses, $bccAddresses, $contentType, $subject, $htmlBody, $textBody, $templateId (optional))
    {
        $parray = array(
            php_xmlrpc_encode($contactList),
            php_xmlrpc_encode($fromAddress),
            php_xmlrpc_encode($toAddress),
            php_xmlrpc_encode($ccAddresses),
            php_xmlrpc_encode($bccAddresses),
            php_xmlrpc_encode($contentType),
            php_xmlrpc_encode($subject),
            php_xmlrpc_encode($htmlBody),
            php_xmlrpc_encode($textBody),
            php_xmlrpc_encode($templateId (optional)));
    }

    /**
     * This will send an email to a list of contacts, as well as record the email in the
     * contacts&amp;#39; email history
     *
     * @param array  $contactList An integer array of Contact Id numbers you would like to send this
     *                            email to
     * @param string $templateId  The Id of of template to send
     *
     * @return stuff
     */
    function sendTemplate($contactList, $templateId)
    {
        $parray = array(
            php_xmlrpc_encode($contactList, array('auto_dates')),
            php_xmlrpc_encode($templateId));
    }

    /**
     * This method is used to update an already existing email template
     *
     * @param string $templateId   The Id number of the email template you would like to update
     * @param string $pieceTitle   The title/name of this template. This is the internal name, not
     *                             visible to customers
     * @param string $category     The category you would like to save this template in
     * @param string $fromAddress  The email address this template will be sent from. Format:
     *                             &amp;quot;First Last&amp;quot;
     * @param string $toAddress    The email address this template will send to. This is typically
     *                             the merge field &amp;quot;~Contact.Email~&amp;quot;
     * @param string $ccAddress    The email address(es) this template will carbon copy. Multiples
     *                             separated by comma
     * @param string $bccAddresses The email address(es) this template will blind carbon copy.
     *                             Multiples separated by comma
     * @param string $subject      The subject line of this email
     * @param string $textBody     The content of the plain text body of this template
     * @param string $htmlBody     The HTML content the body of this email is comprised of
     * @param string $contentType  HTML, text, or multipart (this is case sensitive)
     * @param string $mergeContext Contact, Opportunity, Invoice, or CreditCard (this is typically
     *                             Contact)
     *
     * @return stuff
     */
    function updateEmailTemplate($templateId, $pieceTitle, $category, $fromAddress, $toAddress, $ccAddress, $bccAddresses, $subject, $textBody, $htmlBody, $contentType, $mergeContext)
    {
        $parray = array(
            php_xmlrpc_encode($templateId),
            php_xmlrpc_encode($pieceTitle),
            php_xmlrpc_encode($category),
            php_xmlrpc_encode($fromAddress),
            php_xmlrpc_encode($toAddress),
            php_xmlrpc_encode($ccAddress),
            php_xmlrpc_encode($bccAddresses),
            php_xmlrpc_encode($subject),
            php_xmlrpc_encode($textBody),
            php_xmlrpc_encode($htmlBody),
            php_xmlrpc_encode($contentType),
            php_xmlrpc_encode($mergeContext));
    }

}
?&gt;
</pre>
        <script type="text/javascript">
        $(function() {
            $('body').css({'margin':0,'background-color':'rgb(27, 36, 38)'});
            $('.syntaxhighlighter .gutter').css({'color': 'rgb(61, 61, 61) !important'});
             SyntaxHighlighter.all()
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        });
        </script>
    </body>
</html>